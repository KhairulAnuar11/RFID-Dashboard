{
  "info": {
    "name": "RFID Tracking Dashboard API",
    "description": "Complete API collection for RFID Tracking Dashboard",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3001/api",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('token', jsonData.data.token);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login with username and password. Returns JWT token."
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "me"]
            },
            "description": "Get current authenticated user details"
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "logout"]
            },
            "description": "Logout current user"
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "refresh"]
            },
            "description": "Refresh JWT token"
          }
        }
      ]
    },
    {
      "name": "Tags",
      "item": [
        {
          "name": "Get All Tags",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/tags?page=1&limit=100",
              "host": ["{{baseUrl}}"],
              "path": ["tags"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "100"
                },
                {
                  "key": "startDate",
                  "value": "2024-12-01",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "2024-12-31",
                  "disabled": true
                },
                {
                  "key": "readerId",
                  "value": "reader-001",
                  "disabled": true
                },
                {
                  "key": "search",
                  "value": "TAG",
                  "disabled": true
                }
              ]
            },
            "description": "Get all RFID tags with pagination and filters"
          }
        },
        {
          "name": "Get Tag by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/tags/:id",
              "host": ["{{baseUrl}}"],
              "path": ["tags", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "tag-123"
                }
              ]
            },
            "description": "Get specific tag by ID"
          }
        },
        {
          "name": "Delete Tag",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/tags/:id",
              "host": ["{{baseUrl}}"],
              "path": ["tags", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "tag-123"
                }
              ]
            },
            "description": "Delete specific tag"
          }
        },
        {
          "name": "Bulk Delete Tags",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ids\": [\"tag-123\", \"tag-456\", \"tag-789\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/tags/bulk-delete",
              "host": ["{{baseUrl}}"],
              "path": ["tags", "bulk-delete"]
            },
            "description": "Delete multiple tags at once"
          }
        },
        {
          "name": "Export Tags",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"format\": \"csv\",\n  \"startDate\": \"2024-12-01\",\n  \"endDate\": \"2024-12-31\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/tags/export",
              "host": ["{{baseUrl}}"],
              "path": ["tags", "export"]
            },
            "description": "Export tags to CSV, Excel, or PDF"
          }
        }
      ]
    },
    {
      "name": "Devices",
      "item": [
        {
          "name": "Get All Devices",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/devices",
              "host": ["{{baseUrl}}"],
              "path": ["devices"]
            },
            "description": "Get all RFID reader devices"
          }
        },
        {
          "name": "Get Device by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/devices/:id",
              "host": ["{{baseUrl}}"],
              "path": ["devices", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "device-001"
                }
              ]
            },
            "description": "Get specific device by ID"
          }
        },
        {
          "name": "Create Device",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Reader-Warehouse-A\",\n  \"type\": \"reader\",\n  \"status\": \"online\",\n  \"ipAddress\": \"192.168.1.100\",\n  \"macAddress\": \"00:1B:44:11:3A:B7\",\n  \"location\": \"Warehouse A - Gate 1\",\n  \"zone\": \"Zone A\",\n  \"signalStrength\": 95,\n  \"uptime\": \"5d 12h\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/devices",
              "host": ["{{baseUrl}}"],
              "path": ["devices"]
            },
            "description": "Create new RFID reader device"
          }
        },
        {
          "name": "Update Device",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Reader-Warehouse-A-Updated\",\n  \"status\": \"offline\",\n  \"signalStrength\": 85\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/devices/:id",
              "host": ["{{baseUrl}}"],
              "path": ["devices", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "device-001"
                }
              ]
            },
            "description": "Update existing device"
          }
        },
        {
          "name": "Delete Device",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/devices/:id",
              "host": ["{{baseUrl}}"],
              "path": ["devices", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "device-001"
                }
              ]
            },
            "description": "Delete device"
          }
        },
        {
          "name": "Get Device Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/devices/:id/stats",
              "host": ["{{baseUrl}}"],
              "path": ["devices", ":id", "stats"],
              "variable": [
                {
                  "key": "id",
                  "value": "device-001"
                }
              ]
            },
            "description": "Get device statistics"
          }
        }
      ]
    },
    {
      "name": "Dashboard",
      "item": [
        {
          "name": "Get Dashboard Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/dashboard/stats",
              "host": ["{{baseUrl}}"],
              "path": ["dashboard", "stats"]
            },
            "description": "Get overall dashboard statistics"
          }
        },
        {
          "name": "Get Tag Activity",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/dashboard/activity?period=24h",
              "host": ["{{baseUrl}}"],
              "path": ["dashboard", "activity"],
              "query": [
                {
                  "key": "period",
                  "value": "24h",
                  "description": "24h, 7d, or 30d"
                }
              ]
            },
            "description": "Get tag activity over time"
          }
        },
        {
          "name": "Get Tags by Device",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/dashboard/tags-by-device",
              "host": ["{{baseUrl}}"],
              "path": ["dashboard", "tags-by-device"]
            },
            "description": "Get tag count per device"
          }
        },
        {
          "name": "Get Zone Heatmap",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/dashboard/heatmap",
              "host": ["{{baseUrl}}"],
              "path": ["dashboard", "heatmap"]
            },
            "description": "Get zone heatmap data"
          }
        }
      ]
    },
    {
      "name": "Users (Admin Only)",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            },
            "description": "Get all users (Admin only)"
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/:id",
              "host": ["{{baseUrl}}"],
              "path": ["users", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "user-001"
                }
              ]
            },
            "description": "Get specific user by ID"
          }
        },
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"newuser\",\n  \"email\": \"newuser@example.com\",\n  \"password\": \"password123\",\n  \"role\": \"user\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            },
            "description": "Create new user (Admin only)"
          }
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"updateduser\",\n  \"email\": \"updated@example.com\",\n  \"role\": \"admin\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/:id",
              "host": ["{{baseUrl}}"],
              "path": ["users", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "user-001"
                }
              ]
            },
            "description": "Update user (Admin only)"
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/:id",
              "host": ["{{baseUrl}}"],
              "path": ["users", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "user-001"
                }
              ]
            },
            "description": "Delete user (Admin only)"
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"oldPassword\": \"oldpass123\",\n  \"newPassword\": \"newpass123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/:id/change-password",
              "host": ["{{baseUrl}}"],
              "path": ["users", ":id", "change-password"],
              "variable": [
                {
                  "key": "id",
                  "value": "user-001"
                }
              ]
            },
            "description": "Change user password"
          }
        }
      ]
    },
    {
      "name": "System",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            },
            "description": "Check if API is healthy"
          }
        },
        {
          "name": "Get System Config",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/config",
              "host": ["{{baseUrl}}"],
              "path": ["config"]
            },
            "description": "Get system configuration"
          }
        },
        {
          "name": "Update System Config",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"dataRetentionDays\": 30,\n  \"autoRefreshInterval\": 5000\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/config",
              "host": ["{{baseUrl}}"],
              "path": ["config"]
            },
            "description": "Update system configuration (Admin only)"
          }
        },
        {
          "name": "Test MQTT Connection",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"broker\": \"broker.emqx.io\",\n  \"port\": 8083,\n  \"protocol\": \"wss\",\n  \"username\": \"\",\n  \"password\": \"\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/config/test-mqtt",
              "host": ["{{baseUrl}}"],
              "path": ["config", "test-mqtt"]
            },
            "description": "Test MQTT broker connection"
          }
        }
      ]
    }
  ]
}
